import{a as m,b as o,a8 as r,H as a,w as h,l as i,f as t,C as e,o as k,F as u,D as F,g as f}from"./chunks/framework.BboaNvjl.js";const C=JSON.parse('{"title":"无限循环","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"api/loop.md","filePath":"api/loop.md"}'),v={name:"api/loop.md"},D=Object.assign(v,{setup(B){const n=m(Array.from({length:5}).map((d,s)=>({text:`Slide ${s+1}`,id:s+1})));return(d,s)=>{const p=e("ComponentInfo"),E=e("DemoItem"),g=e("z-swiper-item"),c=e("z-swiper"),y=e("DemoBlock");return k(),o("div",null,[s[2]||(s[2]=r('<h1 id="无限循环" tabindex="-1">无限循环 <a class="header-anchor" href="#无限循环" aria-label="Permalink to &quot;无限循环&quot;">​</a></h1><h2 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言" aria-label="Permalink to &quot;前言&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>v3版本对loop的逻辑进行了深度重构。</p><p>在2.x版本中，<code>loop</code> 功能是通过克隆节点的方式实现的。这种设计虽然简单，但在性能和维护性上存在显著问题。 并且对开发者的反馈进行总结后，90%的问题都与loop配置有关。</p><p>所以在v3版本中，完全摒弃了克隆节点的模式，采用更高效的节点移动机制。</p><p>但是在小程序平台无法操作DOM，页面只能通过数据变更进行渲染。所以小程序中使用依然需要将循环的列表数据传给swiper内部进行处理，swiper处理后通过<code>update:list</code>回传给页面从而完成循环数据的渲染。</p></div><div class="danger custom-block"><p class="custom-block-title">DANGER</p><p>使用<code>loop</code>无限循环必须设置<code>v-for</code>的<code>key</code>值为唯一标识。且强烈推荐数组中的item使用对象，并且对象数组更符合轮播的数据结构。如果是字符串，必须确保字符串是唯一的。不可使用循环中的<code>index</code>，因为无法正确匹配到需要移动的节点，从而造成图片间歇性闪烁。</p><p>设置循环的<code>key</code>不仅对for循环的性能有好处，并且会影响节点更新时的处理方式。</p><p>具体可以查看vue文档：<a href="https://cn.vuejs.org/api/built-in-special-attributes.html#key" target="_blank" rel="noreferrer">key</a>，<a href="https://cn.vuejs.org/guide/essentials/list.html#maintaining-state-with-key" target="_blank" rel="noreferrer">通过 key 管理状态</a>。</p></div><h2 id="基本使用" tabindex="-1">基本使用 <a class="header-anchor" href="#基本使用" aria-label="Permalink to &quot;基本使用&quot;">​</a></h2><h3 id="loop" tabindex="-1">loop <a class="header-anchor" href="#loop" aria-label="Permalink to &quot;loop&quot;">​</a></h3><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><code>z-swiper-native</code> 组件不需要将数据传递给swiper，swiper会直接操作dom节点。</p></div><p>通过将<code>loop</code>设置为<code>true</code>即可开启无限循环。</p><p>通过 <code>v-model:list</code> 将数据传递给swiper。（<code>z-swiper-native</code>不需要传递）</p>',9)),a(p,{type:"Boolean",value:"false"}),a(y,{expanded:""},{code:h(()=>s[1]||(s[1]=[i("div",{class:"language-html vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"html"),i("pre",{class:"shiki shiki-themes github-light github-dark has-diff vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line diff add"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"<"),i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"z-swiper"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," v-model:list"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"list"'),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," grabCursor"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," loop"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"> // z-swiper-native不需要传递v-model")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  <"),i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"z-swiper-item"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," v-for"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"item in list"'),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," :key"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"item.id"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    <"),i("span",{style:{"--shiki-light":"#B31D28","--shiki-light-font-style":"italic","--shiki-dark":"#FDAEB7","--shiki-dark-font-style":"italic"}},"DemoItem"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," :text"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"item.text"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"></"),i("span",{style:{"--shiki-light":"#B31D28","--shiki-light-font-style":"italic","--shiki-dark":"#FDAEB7","--shiki-dark-font-style":"italic"}},"DemoItem"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  </"),i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"z-swiper-item"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"</"),i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"z-swiper"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">")])])])],-1)])),default:h(()=>[a(c,{list:n.value,"onUpdate:list":s[0]||(s[0]=l=>n.value=l),grabCursor:"",loop:""},{default:h(()=>[(k(!0),o(u,null,F(n.value,l=>(k(),f(g,{key:l.id},{default:h(()=>[a(E,{text:l.text},null,8,["text"])]),_:2},1024))),128))]),_:1},8,["list"])]),_:1}),s[3]||(s[3]=i("h3",{id:"looppreventssliding",tabindex:"-1"},[t("loopPreventsSliding "),i("a",{class:"header-anchor",href:"#looppreventssliding","aria-label":'Permalink to "loopPreventsSliding"'},"​")],-1)),s[4]||(s[4]=i("p",null,[t("当swiper正在执行动画的过程中，调用"),i("code",null,"slideNext"),t("或"),i("code",null,"slidePrev"),t("等跳转方法时，将不会执行跳转。")],-1)),a(p,{type:"Boolean",value:"true"}),s[5]||(s[5]=r(`<div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark has-diff vp-code" tabindex="0"><code><span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">z-swiper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-model:list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;list&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grabCursor</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> loop</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> :loopPreventsSliding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;false&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">z-swiper-item</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;item in list&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> :key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;item.id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">DemoItem</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> :text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;item.text&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">DemoItem</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">z-swiper-item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">z-swiper</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div>`,1))])}}});export{C as __pageData,D as default};
