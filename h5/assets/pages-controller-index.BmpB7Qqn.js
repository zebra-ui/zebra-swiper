import{y as e,R as t,H as l,m as o,j as r,k as n,o as s,c as a,w as i,a as c,d as u,r as d,F as m,i as p}from"./index-Cfs_Z2UQ.js";import{d as f}from"./data.Dw3aG-Oj.js";function v({swiper:o,extendParams:r,on:n}){function s(e,t){const l=function(){let e,t,l;return(o,r)=>{for(t=-1,e=o.length;e-t>1;)l=e+t>>1,o[l]<=r?t=l:e=l;return e}}();let o,r;return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(r=l(this.x,e),o=r-1,(e-this.x[o])*(this.y[r]-this.y[o])/(this.x[r]-this.x[o])+this.y[o]):0},this}function a(){o.controller.control&&o.controller.spline&&(o.controller.spline=void 0,delete o.controller.spline)}r({controller:{control:void 0,inverse:!1,by:"slide"}}),o.controller={control:void 0},n("beforeInit",(()=>{var t,l,r;if("undefined"!=typeof window&&e()&&("string"==typeof(null==(t=o.params.controller)?void 0:t.control)||(null==(l=o.params.controller)?void 0:l.control)instanceof HTMLElement)){document.querySelectorAll(o.params.controller.control).forEach((e=>{if(o.controller.control||(o.controller.control=[]),e.swiper)o.controller.control.push(e.swiper);else{const t=l=>{o.controller.control.push(l.detail[0]),o.update(),e.removeEventListener(`${o.params.eventsPrefix}init`,t)};e.addEventListener(`${o.params.eventsPrefix}init`,t)}}))}else o.controller.control=null==(r=o.params.controller)?void 0:r.control})),n("update",(()=>{a()})),n("resize",(()=>{a()})),n("observerUpdate",(()=>{a()})),n("setTranslate",((e,t,l)=>{o.controller.control&&!o.controller.control.destroyed&&o.controller.setTranslate(t,l)})),n("setTransition",((e,t,l)=>{o.controller.control&&!o.controller.control.destroyed&&o.controller.setTransition(t,l)})),Object.assign(o.controller,{setTranslate:function(e,t){const l=o.controller.control;let r,n;const a=o.constructor;function i(e){var t,l;if(e.destroyed)return;const a=o.rtlTranslate?-o.translate:o.translate;"slide"===(null==(t=o.params.controller)?void 0:t.by)&&(!function(e){o.controller.spline=o.params.loop?new s(o.slidesGrid,e.slidesGrid):new s(o.snapGrid,e.snapGrid)}(e),n=-o.controller.spline.interpolate(-a)),n&&"container"!==(null==(l=o.params.controller)?void 0:l.by)||(r=(e.maxTranslate()-e.minTranslate())/(o.maxTranslate()-o.minTranslate()),!Number.isNaN(r)&&Number.isFinite(r)||(r=1),n=(a-o.minTranslate())*r+e.minTranslate()),o.params.controller.inverse&&(n=e.maxTranslate()-n),e.updateProgress(n),e.setTranslate(n,o),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(l))for(let o=0;o<l.length;o+=1)l[o]!==t&&l[o]instanceof a&&i(l[o]);else l instanceof a&&t!==l&&i(l)},setTransition:function(e,r){const n=o.constructor,s=o.controller.control;let a;function i(r){r.destroyed||(r.setTransition(e,o),0!==e&&(r.transitionStart(),r.params.autoHeight&&t((()=>{r.updateAutoHeight()})),l(r.wrapperEl,(()=>{s&&r.transitionEnd()}))))}if(Array.isArray(s))for(a=0;a<s.length;a+=1)s[a]!==r&&s[a]instanceof n&&i(s[a]);else s instanceof n&&r!==s&&i(s)}})}const y=o({__name:"index",setup(e){const t=r([...f]),l=r([...f]),o=r([...f]),y=r([...f]),x=r([v]),h=r({}),_=(e,t)=>{h.value[t]=e};return(e,r)=>{const f=n("demo-item"),v=n("z-swiper-item"),T=n("z-swiper"),w=n("demo-block"),g=p;return s(),a(g,{class:"demo-swiper"},{default:i((()=>[c(w,{title:"基础用法"},{default:i((()=>[c(T,{modules:x.value,controller:{control:h.value.control}},{default:i((()=>[(s(!0),u(m,null,d(t.value,(e=>(s(),a(v,{key:e.id},{default:i((()=>[c(f,{item:e},null,8,["item"])])),_:2},1024)))),128))])),_:1},8,["modules","controller"]),c(T,{"custom-style":{"margin-top":"20rpx"},modules:x.value,onSwiper:r[0]||(r[0]=e=>_(e,"control"))},{default:i((()=>[(s(!0),u(m,null,d(l.value,(e=>(s(),a(v,{key:e.id},{default:i((()=>[c(f,{item:e},null,8,["item"])])),_:2},1024)))),128))])),_:1},8,["modules"])])),_:1}),c(w,{title:"反向"},{default:i((()=>[c(T,{modules:x.value,controller:{control:h.value.inverse,inverse:!0}},{default:i((()=>[(s(!0),u(m,null,d(o.value,(e=>(s(),a(v,{key:e.id},{default:i((()=>[c(f,{item:e},null,8,["item"])])),_:2},1024)))),128))])),_:1},8,["modules","controller"]),c(T,{"custom-style":{"margin-top":"20rpx"},modules:x.value,onSwiper:r[1]||(r[1]=e=>_(e,"inverse"))},{default:i((()=>[(s(!0),u(m,null,d(y.value,(e=>(s(),a(v,{key:e.id},{default:i((()=>[c(f,{item:e},null,8,["item"])])),_:2},1024)))),128))])),_:1},8,["modules"])])),_:1}),c(w,{title:"双向控制"},{default:i((()=>[c(T,{modules:x.value,controller:{control:h.value.example2},onSwiper:r[2]||(r[2]=e=>_(e,"example1"))},{default:i((()=>[(s(!0),u(m,null,d(t.value,(e=>(s(),a(v,{key:e.id},{default:i((()=>[c(f,{item:e},null,8,["item"])])),_:2},1024)))),128))])),_:1},8,["modules","controller"]),c(T,{"custom-style":{"margin-top":"20rpx"},modules:x.value,controller:{control:h.value.example1},onSwiper:r[3]||(r[3]=e=>_(e,"example2"))},{default:i((()=>[(s(!0),u(m,null,d(t.value,(e=>(s(),a(v,{key:e.id},{default:i((()=>[c(f,{item:e},null,8,["item"])])),_:2},1024)))),128))])),_:1},8,["modules","controller"])])),_:1})])),_:1})}}});export{y as default};
