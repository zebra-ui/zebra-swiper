import{v as a,_ as e,j as t,k as i,c as n,w as l,i as s,o,a as r,d,r as c,F as u,b as p,x as v}from"./index-Cfs_Z2UQ.js";import{d as m}from"./data.Dw3aG-Oj.js";import{c as g}from"./create-element-if-not-defined.DVlVNaVO.js";function f({swiper:e,extendParams:t,on:i,emit:n}){function l(a){let t=null;return a&&"string"==typeof a&&e.isElement&&(t=e.el.querySelector(a)||e.hostEl.querySelector(a),t)?t:(a&&("string"==typeof a&&(t=Array.from(document.querySelectorAll(a))),e.params.uniqueNavElements&&"string"==typeof a&&Array.isArray(t)&&t.length>1&&1===e.el.querySelectorAll(a).length?t=e.el.querySelector(a):Array.isArray(t)&&1===t.length&&(t=t[0])),a&&!t?a:t)}function s(t,i){const n=e.params.navigation;(t=a(t)).forEach((a=>{a&&(a.classList[i?"add":"remove"](...n.disabledClass.split(" ")),"BUTTON"===a.tagName&&(a.disabled=i),e.params.watchOverflow&&e.enabled&&a.classList[e.isLocked?"add":"remove"](n.lockClass))}))}function o(){const{nextEl:a,prevEl:t}=e.navigation;if(e.params.loop)return s(t,!1),void s(a,!1);s(t,e.isBeginning&&!e.params.rewind),s(a,e.isEnd&&!e.params.rewind)}function r(a){a.preventDefault(),(!e.isBeginning||e.params.loop||e.params.rewind)&&(e.slidePrev(),n("navigationPrev"))}function d(a){a.preventDefault(),(!e.isEnd||e.params.loop||e.params.rewind)&&(e.slideNext(),n("navigationNext"))}function c(){const t=e.params.navigation;if(e.params.navigation=g(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!t.nextEl&&!t.prevEl)return;let i=l(t.nextEl),n=l(t.prevEl);Object.assign(e.navigation,{nextEl:i,prevEl:n}),i=a(i),n=a(n);const s=(a,i)=>{a&&a.addEventListener("click","next"===i?d:r),!e.enabled&&a&&a.classList.add(...t.lockClass.split(" "))};i.forEach((a=>s(a,"next"))),n.forEach((a=>s(a,"prev")))}function u(){let{nextEl:t,prevEl:i}=e.navigation;t=a(t),i=a(i);const n=(a,t)=>{a.removeEventListener("click","next"===t?d:r),a.classList.remove(...e.params.navigation.disabledClass.split(" "))};t.forEach((a=>n(a,"next"))),i.forEach((a=>n(a,"prev")))}t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null},i("init",(()=>{!1===e.params.navigation.enabled?p():(c(),o())})),i("toEdge fromEdge lock unlock",(()=>{o()})),i("destroy",(()=>{u()})),i("enable disable",(()=>{let{nextEl:t,prevEl:i}=e.navigation;t=a(t),i=a(i),e.enabled?o():[...t,...i].filter((a=>!!a)).forEach((a=>a.classList.add(e.params.navigation.lockClass)))})),i("click",((t,i)=>{let{nextEl:l,prevEl:s}=e.navigation;l=a(l),s=a(s);const o=i.target;let r=s.includes(o)||l.includes(o);if(e.isElement&&!r){const a=i.path||i.composedPath&&i.composedPath();a&&(r=!!a.find((a=>l.includes(a)||s.includes(a))))}if(e.params.navigation.hideOnClick&&!r){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===o||e.pagination.el.contains(o)))return;let a;l.length?a=l[0].classList.contains(e.params.navigation.hiddenClass):s.length&&(a=s[0].classList.contains(e.params.navigation.hiddenClass)),n(!0===a?"navigationShow":"navigationHide"),[...l,...s].filter((a=>!!a)).forEach((a=>a.classList.toggle(e.params.navigation.hiddenClass)))}}));const p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),u()};Object.assign(e.navigation,{enable:()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),c(),o()},disable:p,update:o,init:c,destroy:u})}const E=e({__name:"index",setup(a){const e=t([...m]),g=t([...m]),E=t(null),h=a=>{E.value=a},b=t([f]);return(a,t)=>{const m=i("demo-item"),f=i("z-swiper-item"),x=i("z-swiper"),w=i("demo-block"),k=s,y=v;return o(),n(k,{class:"demo-switcher"},{default:l((()=>[r(w,{title:"基础用法"},{default:l((()=>[r(x,{navigation:"",modules:b.value},{default:l((()=>[(o(!0),d(u,null,c(e.value,(a=>(o(),n(f,{key:a.id},{default:l((()=>[r(m,{item:a},null,8,["item"])])),_:2},1024)))),128))])),_:1},8,["modules"])])),_:1}),r(w,{title:"点击后隐藏"},{default:l((()=>[r(x,{navigation:{hideOnClick:!0},modules:b.value},{default:l((()=>[(o(!0),d(u,null,c(e.value,(a=>(o(),n(f,{key:a.id},{default:l((()=>[r(m,{item:a},null,8,["item"])])),_:2},1024)))),128))])),_:1},8,["modules"])])),_:1}),r(w,{title:"插槽自定义"},{default:l((()=>[r(x,{navigation:"",modules:b.value},{"navigation-prev":l((()=>[r(k,{class:"custom-switcher"},{default:l((()=>[p(" prev ")])),_:1})])),"navigation-next":l((()=>[r(k,{class:"custom-switcher"},{default:l((()=>[p(" next ")])),_:1})])),default:l((()=>[(o(!0),d(u,null,c(e.value,(a=>(o(),n(f,{key:a.id},{default:l((()=>[r(m,{item:a},null,8,["item"])])),_:2},1024)))),128))])),_:1},8,["modules"])])),_:1}),r(w,{title:"完全自定义"},{default:l((()=>[r(x,{list:g.value,"onUpdate:list":t[0]||(t[0]=a=>g.value=a),loop:"",onSwiper:h},{default:l((()=>[(o(!0),d(u,null,c(g.value,(a=>(o(),n(f,{key:a.id},{default:l((()=>[r(m,{item:a},null,8,["item"])])),_:2},1024)))),128))])),_:1},8,["list"]),r(k,{class:"custom-switcher-group"},{default:l((()=>[r(y,{type:"primary",size:"mini",class:"custom-switcher-group-button",onClick:t[1]||(t[1]=a=>{E.value.slidePrev()})},{default:l((()=>[p(" prev ")])),_:1}),r(y,{type:"primary",size:"mini",class:"custom-switcher-group-button",onClick:t[2]||(t[2]=a=>{E.value.slideNext()})},{default:l((()=>[p(" next ")])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-abe8e9f3"]]);export{E as default};
