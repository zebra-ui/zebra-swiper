import{l as e,q as t,m as l,j as s,k as a,o,c as i,w as r,a as d,d as f,r as u,F as c,i as n}from"./index-Cfs_Z2UQ.js";import{c as m}from"./create-shadow.BYWaI1P7.js";import{e as w}from"./effect-init.z_aRwGdK.js";import{e as p}from"./effect-target.kVlO4PMB.js";import{d as h}from"./data.Dw3aG-Oj.js";function v({swiper:l,extendParams:s,on:a}){s({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}});w({effect:"coverflow",swiper:l,on:a,setTranslate:()=>{const{width:e,height:s,slides:a,slidesSizesGrid:o}=l,i=l.params.coverflowEffect,r=l.isHorizontal(),d=l.translate,f=r?e/2-d:s/2-d,u=r?i.rotate:-i.rotate,c=i.depth,n=t(l);for(let t=0;t<a.length;t+=1){const e=a[t],l=o[t],s=(f-e.swiperSlideOffset-l/2)/l,d="function"==typeof i.modifier?i.modifier(s):s*i.modifier;let w=r?u*d:0,h=r?0:u*d,v=-c*Math.abs(d);const{stretch:_}=i,y="string"==typeof _&&-1!==_.indexOf("%")?parseFloat(_)/100*l:_;let S=r?0:Number(y)*d,b=r?Number(y)*d:0,g=1-(1-i.scale)*Math.abs(d);Math.abs(b)<.001&&(b=0),Math.abs(S)<.001&&(S=0),Math.abs(v)<.001&&(v=0),Math.abs(w)<.001&&(w=0),Math.abs(h)<.001&&(h=0),Math.abs(g)<.001&&(g=0);const M=`translate3d(${b}px,${S}px,${v}px)  \n         rotateX(${n(h)}deg) rotateY(${n(w)}deg) scale(${g})`;if(p(i,e).style.transform=M,e.style.zIndex=String(1-Math.abs(Math.round(d))),i.slideShadows){let t=r?e.querySelector(".swiper-slide-shadow-left"):e.querySelector(".swiper-slide-shadow-top"),l=r?e.querySelector(".swiper-slide-shadow-right"):e.querySelector(".swiper-slide-shadow-bottom");t||(t=m("coverflow",e,r?"left":"top")),l||(l=m("coverflow",e,r?"right":"bottom")),t&&(t.style.opacity=String(d>0?d:0)),l&&(l.style.opacity=String(-d>0?-d:0))}}},setTransition:t=>{l.slides.map((t=>e(t))).forEach((e=>{e.style.transitionDuration=`${t}ms`,e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((e=>{e.style.transitionDuration=`${t}ms`}))}))},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}const _=l({__name:"index",setup(e){const t=s([v]),l=s([...h]),m=s([...h]);return(e,s)=>{const w=a("demo-item"),p=a("z-swiper-item"),h=a("z-swiper"),v=a("demo-block"),_=n;return o(),i(_,{class:"demo-swiper"},{default:r((()=>[d(v,{title:"切换效果-3D流"},{default:r((()=>[d(h,{effect:"coverflow",modules:t.value},{default:r((()=>[(o(!0),f(c,null,u(l.value,(e=>(o(),i(p,{key:e.id},{default:r((()=>[d(w,{item:e},null,8,["item"])])),_:2},1024)))),128))])),_:1},8,["modules"])])),_:1}),d(v,{title:"搭配轮播块"},{default:r((()=>[d(h,{effect:"coverflow",centeredSlides:"",slidesPerView:2,modules:t.value},{default:r((()=>[(o(!0),f(c,null,u(l.value,(e=>(o(),i(p,{key:e.id},{default:r((()=>[d(w,{item:e},null,8,["item"])])),_:2},1024)))),128))])),_:1},8,["modules"])])),_:1}),d(v,{title:" Z 轴偏移深度"},{default:r((()=>[d(h,{effect:"coverflow",centeredSlides:"",slidesPerView:2,coverflowEffect:{depth:300},modules:t.value},{default:r((()=>[(o(!0),f(c,null,u(l.value,(e=>(o(),i(p,{key:e.id},{default:r((()=>[d(w,{item:e},null,8,["item"])])),_:2},1024)))),128))])),_:1},8,["modules"])])),_:1}),d(v,{title:"旋转角度"},{default:r((()=>[d(h,{effect:"coverflow",centeredSlides:"",slidesPerView:2,coverflowEffect:{rotate:10},modules:t.value},{default:r((()=>[(o(!0),f(c,null,u(l.value,(e=>(o(),i(p,{key:e.id},{default:r((()=>[d(w,{item:e},null,8,["item"])])),_:2},1024)))),128))])),_:1},8,["modules"])])),_:1}),d(v,{title:"缩放"},{default:r((()=>[d(h,{effect:"coverflow",centeredSlides:"",slidesPerView:2,coverflowEffect:{scale:.5},modules:t.value},{default:r((()=>[(o(!0),f(c,null,u(l.value,(e=>(o(),i(p,{key:e.id},{default:r((()=>[d(w,{item:e},null,8,["item"])])),_:2},1024)))),128))])),_:1},8,["modules"])])),_:1}),d(v,{title:"拉伸距离"},{default:r((()=>[d(h,{effect:"coverflow",centeredSlides:"",slidesPerView:2,coverflowEffect:{stretch:20},modules:t.value},{default:r((()=>[(o(!0),f(c,null,u(l.value,(e=>(o(),i(p,{key:e.id},{default:r((()=>[d(w,{item:e},null,8,["item"])])),_:2},1024)))),128))])),_:1},8,["modules"])])),_:1}),d(v,{title:"无限循环"},{default:r((()=>[d(h,{list:m.value,"onUpdate:list":s[0]||(s[0]=e=>m.value=e),loop:"",centeredSlides:"",effect:"coverflow",slidesPerView:3,modules:t.value},{default:r((()=>[(o(!0),f(c,null,u(m.value,((e,t)=>(o(),i(p,{key:e.id},{default:r((()=>[d(w,{item:e},null,8,["item"])])),_:2},1024)))),128))])),_:1},8,["list","modules"])])),_:1})])),_:1})}}});export{_ as default};
